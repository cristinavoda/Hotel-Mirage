<template>
    <div class="flex flex-col items-center mt-4">
      <label>Nombre</label>
      <input type="text" v-model="customerName" class="border p-2 mt-2" />
      
      <label>Email</label>
      <input type="email" v-model="customerEmail" class="border p-2 mt-2" />
      
      <label>Teléfono</label>
      <input type="text" v-model="customerPhone" class="border p-2 mt-2" />
      
      <label>Habitaciones</label>
      <select v-model="roomType" class="border p-2 mt-2">
        <option value="standar">Estándar</option>
        <option value="doble">Doble</option>
        <option value="triple">Triple</option>
        <option value="individual">Individual</option>
        <option value="suite">Suite</option>
      </select>
      
      <button @click="reserve" class="bg-blue-500 text-white p-2 mt-4">Reservar</button>
    </div>
  </template>
  
  <script>
  export default {
    data() {
      return {
        roomType: 'standar',
        customerName: '',
        customerEmail: '',
        customerPhone: ''
      }
    },
    methods: {
      reserve() {
        const reservationData = {
          arrivalDate: this.$root.arrivalDate,
          departureDate: this.$root.departureDate,
          roomType: this.roomType,
          customerName: this.customerName,
          customerEmail: this.customerEmail,
          customerPhone: this.customerPhone
        };
        fetch('/api/reservations', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(reservationData)
        })
        .then(response => response.json())
        .then(data => {
          console.log('Reservation created:', data);
          alert('Reservation created successfully!');
        })
        .catch(error => {
          console.error('Error creating reservation:', error);
        });
      }
    }
  };
  </script>
  